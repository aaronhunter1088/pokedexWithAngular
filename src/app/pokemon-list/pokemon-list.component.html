<pagination-controls
  style="justify-content: space-evenly;"
  [maxSize]="this.itemsPerPage"
  (pageChange)="this.page=$event; pokemonMap = newMap(); getThePokemon();"></pagination-controls>
<section>
  <mat-slide-toggle (click)="showGifs = !showGifs; showDefaultImage = !showDefaultImage;">
    Show GIFs
  </mat-slide-toggle>
</section>
<div class="pokemon-grid">
  <div
    *ngFor="let pokemon of pokemonMap | keyvalue | paginate: {itemsPerPage: this.itemsPerPage, currentPage: this.page, totalItems: numberOfPokemon}">
    <nav>
      <a routerLink="/evolutions/?pokemonID={{pokemon.value.id}}" style="text-decoration: none; color: black;">
        <div class="box"
             [ngStyle]="{'background-color':changeColor(pokemon.value.color)}">
          <div id="nameAndID" style="display:inline-flex;">
            <h3 id="name"
                *ngIf="pokemon.value.id;"
            >{{pokemon.value.name | titlecase}}</h3>
            <div style="display: block;">&nbsp;&nbsp;&nbsp;&nbsp;</div>
            <h3 id="idOfPokemon">ID: {{pokemon.value.id}}</h3>
          </div>
          <div id="image"
               *ngFor="let sprites of getPokemonSprites(pokemon.value) | keyvalue;">
            <ng-template [ngIf]="showDefaultImage && !showGifs" [ngIfElse]="gifImage"> <!-- [ngIfElse]=officialImage -->
              <img *ngIf="sprites.key == 'front'"
                   [src]="sprites.value" alt="{{pokemon.value.name}}-default"
                   (mouseover)="sprites.value = showOfficialArtwork(pokemon.value)"
                   (mouseout)="sprites.value = showFrontImage(pokemon.value);"
              >
            </ng-template>
            <ng-template #gifImage
              [ngIf]="!showDefaultImage && showGifs && gifImagePresent">
              <img *ngIf="sprites.key == 'gif' && gifImagePresent;"
                   [src]="sprites.value" alt="{{pokemon.value.name}}-gif"
              >
              <img *ngIf="sprites.key == 'official' && showGifs && !gifImagePresent;"
                   [src]="sprites.value" alt="{{pokemon.value.name}}-official"
              >
            </ng-template>
          </div>
          <div id="info" style="display:inline-block;">
            <h3 id="heightOfPokemon">Height: {{pokemon.value.height}}</h3>
            <h3 id="weightOfPokemon">Weight: {{pokemon.value.weight}}</h3>
            <h3 id="colorOfPokemon">Color: {{pokemon.value.color | titlecase}}</h3>
            <h3 id="typeOfPokemon">Type: {{pokemon.value.type}}</h3>
          </div>
        </div>
      </a>
    </nav>
  </div>
</div>
<pagination-controls
  style="justify-content: space-evenly;"
  [maxSize]="this.itemsPerPage"
  (pageChange)="this.page=$event; pokemonMap = newMap(); getThePokemon();"></pagination-controls>
